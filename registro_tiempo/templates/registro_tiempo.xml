<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="home_parte_horas">
        <t t-call="portal.frontend_layout">
            <div t-if="employee" id="o_page_registro_horas" class="container mb-5">
                <div class="row pt-2 pb-2">
                    <div class="col-md-12 text-center mt-5 mb-5">
                        <a href="#"
                           t-att-data-tipo="'checked_in' if employee.attendance_state == 'checked_in' else 'checked_out'"
                           t-attf-class="btn btn-registro-hora text-white #{employee.attendance_state == 'checked_out' and 'btn-success' or 'btn-danger'}">
                            <i id="ico-registro" t-attf-class="fa fa-7x #{employee.attendance_state == 'checked_out' and 'fa-sign-in' or 'fa-sign-out'}"/>
                        </a>
                        <h5 class="mt-3 mb0 text-muted">Pulse para <b>registrar <span class="txt-check-tiempo" t-esc="'entrada' if employee.attendance_state == 'checked_out' else 'salida'"/></b></h5>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-12 text-center">
                        <a id="btn-form-regis-horas" class="btn rounded-circle btn-outline-secondary" href="#">
                            AÃ±adir registro
                        </a>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-12">
                        <script>
                            var tipoParadaSource = [
                                <t t-foreach="tipos_parada" t-as="tipo">
                                    {
                                        "id": <t t-esc="tipo.id"/>,
                                        "name": '<t t-esc="tipo.name"/>',
                                    },
                                </t>
                            ];
                        </script>
                        <div id="form-registro-horas"/>
                    </div>
                </div>
            </div>

            <div t-if="not employee" class="container mb-5">
                <div class="row">
                    <div class="col-12">
                        <div class="alert alert-danger" role="alert">
                            No es un empleado.
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
